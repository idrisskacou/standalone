import{e as l,f as o,g as d,h as c,k as h}from"./chunk-JEQNNXGW.js";var u=":host{box-sizing:border-box;display:flex;justify-content:flex-start;height:100%;width:auto;margin:0;padding:0;-moz-user-select:none;-khtml-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}:host(:not(:focus-within)){contain:content;}:host([hidden]){display:none}",_=(()=>{let n=class{constructor(e){h(this,e),this.ruxSelected=c(this,"ruxselected",7),this._panels=[],this._tabs=[],this.small=void 0}handleTabselected(e){let s=e.target,t=Array.from(this.el.children);if(s.selected&&t.includes(s)){let i=this._panels.find(a=>a.getAttribute("aria-labelledby")===s.getAttribute("id"));this._panels.forEach(a=>a.classList.add("hidden")),i?.classList.remove("hidden")}this._checkSelected()}handleListen(e){e.target.getAttribute("aria-labelledby")===this.el.id&&this._registerPanels(e)}handleSmallChange(){this.small?this._tabs.forEach(e=>e.setAttribute("small","")):this._tabs.forEach(e=>{e.hasAttribute("small")&&e.removeAttribute("small")})}onKeydown(e){var s;let t=this._tabs.filter(i=>!i.disabled);if(e.target&&t.includes(e.target)){let i=t.findIndex(r=>r===e.target),a;["ArrowDown","ArrowRight"].includes(e.code)&&(a=i===t.length-1?t[0]:t[i+1]),["ArrowUp","ArrowLeft"].includes(e.code)&&(a=i===0?t[t.length-1]:t[i-1]),a&&t.includes(a)&&((s=a.shadowRoot)===null||s===void 0?void 0:s.querySelector(".rux-tab")).focus()}}connectedCallback(){this._addTabs()}componentWillUpdate(){this._checkSelected()}_addTabs(){var e;this._tabs=Array.from((e=this.el)===null||e===void 0?void 0:e.querySelectorAll("rux-tab"))}_checkSelected(){let e=this._tabs[0].shadowRoot.querySelector('[part="container"]');e&&(e.tabIndex=!this._tabs.find(s=>s.selected)||this._tabs[0].hasAttribute("selected")?0:-1)}_registerPanels(e){this._panels=[],e.detail.forEach(t=>{this._panels.push(t)}),this._addTabs();let s=this._tabs.find(t=>t.selected)||this._tabs[0];this._setTab(s)}_onPress(e){e.key==="Enter"&&this._onClick(e)}_onClick(e){let t=e.target.closest("rux-tab");t!==null&&(this.ruxSelected.emit(t),t.getAttribute("disabled")===null&&this._setTab(t))}_reset(){this._tabs.forEach(e=>{e.parentElement===this.el&&(e.selected=!1)}),this._panels.forEach(e=>{var s;((s=e.parentElement)===null||s===void 0?void 0:s.getAttribute("aria-labelledby"))===this.el.id&&e.classList.add("hidden")})}_setTab(e){this._reset();let s=this._panels.find(t=>t.getAttribute("aria-labelledby")===e.getAttribute("id"));e&&(e.selected=!0),s&&s.classList.remove("hidden")}render(){return l(o,{onClick:e=>this._onClick(e),onKeyPress:e=>this._onPress(e),role:"tablist"},l("slot",{onSlotchange:this._addTabs.bind(this)}))}get el(){return d(this)}static get watchers(){return{small:["handleSmallChange"]}}};return n.style=u,n})();export{_ as rux_tabs};
