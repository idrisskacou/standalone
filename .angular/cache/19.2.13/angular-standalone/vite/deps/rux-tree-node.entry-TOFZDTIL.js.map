{
  "version": 3,
  "sources": ["../../../../../../node_modules/@astrouxds/astro-web-components/dist/esm/rux-tree-node.entry.js"],
  "sourcesContent": ["import { r as registerInstance, c as createEvent, h, H as Host, g as getElement } from './index-416188d1.js';\nimport { h as hasSlot } from './utils-ef146867.js';\nconst ruxTreeNodeCss = \":host{display:block}.tree-node{color:var(--color-text-primary, #ffffff);font-family:var(--font-body-1-font-family, 'Roboto', -apple-system, BlinkMacSystemFont, 'Segoe UI', Oxygen-Sans, Ubuntu, Cantarell, 'Helvetica Neue', sans-serif);font-size:var(--font-control-body-1-font-size, 1rem);font-weight:var(--font-control-body-1-font-weight, 400);letter-spacing:var(--font-body-1-letter-spacing, 0.005em);line-height:var(--font-control-body-1-line-height, calc(20 / 16));padding-block:var(--spacing-050, 0.125rem)}:host([hidden]){display:none}:host([aria-selected=true]) .parent{background-color:var(--color-background-surface-selected, #1c3f5e)}:host([aria-level=\\\"1\\\"]) .tree-node:not(.tree-node--has-children) .parent{padding-left:var(--spacing-8, 2rem)}:host([aria-level=\\\"2\\\"]) .parent{padding-left:var(--spacing-8, 2rem)}:host([aria-level=\\\"2\\\"]) .tree-node:not(.tree-node--has-children) .parent{padding-left:var(--spacing-14, 3.5rem)}:host([aria-level=\\\"3\\\"]) .parent{padding-left:var(--spacing-14, 3.5rem)}:host([aria-level=\\\"3\\\"]) .tree-node:not(.tree-node--has-children) .parent{padding-left:var(--spacing-20, 5rem)}:host([aria-level=\\\"4\\\"]) .parent{padding-left:var(--spacing-20, 5rem)}:host([aria-level=\\\"4\\\"]) .tree-node:not(.tree-node--has-children) .parent{padding-left:calc(var(--spacing-14, 3.5rem) + var(--spacing-12, 3rem))}.parent{padding:var(--spacing-1, 0.25rem) var(--spacing-2, 0.5rem);display:flex;gap:var(--spacing-050, 0.125rem)}.parent:hover{background-color:var(--color-background-surface-hover, #1c3851)}.parent:focus-visible{border-radius:var(--radius-base, 3px);outline:var(--border-width-focus-default, 1px) solid var(--color-border-focus-default, #da9ce7);outline-offset:var(--spacing-focus-default, 0.125rem)}.arrow{cursor:pointer;min-width:20px;min-height:20px;background-image:url(\\\"data:image/svg+xml,%3Csvg width='20' height='20' viewBox='0 0 20 20' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M7.74167 13.2333L10.975 10L7.74167 6.76668C7.41667 6.44168 7.41667 5.91668 7.74167 5.59168C8.06667 5.26668 8.59167 5.26668 8.91667 5.59168L12.7417 9.41668C13.0667 9.74168 13.0667 10.2667 12.7417 10.5917L8.91667 14.4167C8.59167 14.7417 8.06667 14.7417 7.74167 14.4167C7.42501 14.0917 7.41667 13.5583 7.74167 13.2333Z' fill='%234DACFF'/%3E%3C/svg%3E%0A\\\");background-repeat:no-repeat}.arrow:hover{background-image:url(\\\"data:image/svg+xml,%3Csvg width='20' height='20' viewBox='0 0 20 20' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M7.74167 13.2333L10.975 10L7.74167 6.76668C7.41667 6.44168 7.41667 5.91668 7.74167 5.59168C8.06667 5.26668 8.59167 5.26668 8.91667 5.59168L12.7417 9.41668C13.0667 9.74168 13.0667 10.2667 12.7417 10.5917L8.91667 14.4167C8.59167 14.7417 8.06667 14.7417 7.74167 14.4167C7.42501 14.0917 7.41667 13.5583 7.74167 13.2333Z' fill='%2392CBFF'/%3E%3C/svg%3E\\\")}.prefix{display:flex;align-self:center;margin:var(--spacing-0, 0rem) var(--spacing-1, 0.25rem)}.suffix{margin-left:auto;display:flex}.children{display:none}.tree-node--expanded>.children{display:block !important}.tree-node--expanded .arrow{background-image:url(\\\"data:image/svg+xml,%3Csvg width='20' height='20' viewBox='0 0 20 20' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M6.76668 7.74167L10 10.975L13.2333 7.74167C13.5583 7.41667 14.0833 7.41667 14.4083 7.74167C14.7333 8.06667 14.7333 8.59167 14.4083 8.91667L10.5833 12.7417C10.2583 13.0667 9.73335 13.0667 9.40835 12.7417L5.58335 8.91667C5.25835 8.59167 5.25835 8.06667 5.58335 7.74167C5.90835 7.42501 6.44168 7.41667 6.76668 7.74167Z' fill='%234DACFF'/%3E%3C/svg%3E\\\")}.tree-node--expanded .arrow:hover{background-image:url(\\\"data:image/svg+xml,%3Csvg width='20' height='20' viewBox='0 0 20 20' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M6.76665 7.74167L9.99999 10.975L13.2333 7.74167C13.5583 7.41667 14.0833 7.41667 14.4083 7.74167C14.7333 8.06667 14.7333 8.59167 14.4083 8.91667L10.5833 12.7417C10.2583 13.0667 9.73332 13.0667 9.40832 12.7417L5.58332 8.91667C5.25832 8.59167 5.25832 8.06667 5.58332 7.74167C5.90832 7.42501 6.44165 7.41667 6.76665 7.74167Z' fill='%2392CBFF'/%3E%3C/svg%3E\\\")}:host::part(text){overflow:hidden;white-space:nowrap;text-overflow:ellipsis}\";\nlet id = 0;\nconst RuxTreeNode = class {\n  constructor(hostRef) {\n    registerInstance(this, hostRef);\n    this.ruxTreeNodeSelected = createEvent(this, \"ruxtreenodeselected\", 7);\n    this.ruxTreeNodeExpanded = createEvent(this, \"ruxtreenodeexpanded\", 7);\n    this.ruxTreeNodeCollapsed = createEvent(this, \"ruxtreenodecollapsed\", 7);\n    this.componentId = `node-${++id}`;\n    this.children = [];\n    this.hasPrefix = false;\n    this.hasSuffix = false;\n    this.expanded = false;\n    this.selected = false;\n  }\n  handleExpandedChange(newValue) {\n    this.setExpanded(newValue);\n  }\n  handleSelectedChange(newValue) {\n    this.setSelected(newValue);\n  }\n  handleKeyDown(ev) {\n    if (ev.target !== ev.currentTarget) {\n      return true;\n    }\n    switch (ev.key) {\n      case 'ArrowUp':\n        ev.preventDefault();\n        this._focusNext(-1);\n        break;\n      case 'ArrowRight':\n        ev.preventDefault();\n        this._expandNextNode();\n        break;\n      case 'ArrowDown':\n        ev.preventDefault();\n        this._focusNext(1);\n        break;\n      case 'ArrowLeft':\n        ev.preventDefault();\n        this._collapseParent();\n        break;\n      case 'Enter':\n        ev.preventDefault();\n        this.setSelected(true);\n        break;\n    }\n  }\n  connectedCallback() {\n    this._checkForPrefixAndSuffix = this._checkForPrefixAndSuffix.bind(this);\n    this._handleArrowClick = this._handleArrowClick.bind(this);\n    this._handleSlotChange = this._handleSlotChange.bind(this);\n    this._handleTreeNodeClick = this._handleTreeNodeClick.bind(this);\n  }\n  componentWillLoad() {\n    this._handleSlotChange();\n    this._checkForPrefixAndSuffix();\n  }\n  get hasChildren() {\n    return this.children.length > 0;\n  }\n  _checkForPrefixAndSuffix() {\n    this.hasPrefix = hasSlot(this.el, 'prefix');\n    this.hasSuffix = hasSlot(this.el, 'suffix');\n  }\n  /**\n   * Sets the expanded state\n   * @param value\n   */\n  async setExpanded(value) {\n    this.expanded = value;\n  }\n  /**\n   * Sets the selected state\n   * @param value\n   */\n  async setSelected(value) {\n    this.selected = value;\n    if (value) {\n      this.ruxTreeNodeSelected.emit(this.componentId);\n    }\n  }\n  _handleSlotChange() {\n    const children = Array.from(this.el.querySelectorAll(`[slot=\"node\"]`));\n    this.children = children;\n    this._setAriaLevel();\n  }\n  /**\n   * Manually set the aria-level attribute.\n   * Tree is responsible for setting the root node levels.\n   */\n  _setAriaLevel() {\n    const level = this.el.getAttribute('aria-level');\n    if (level) {\n      this.children.map(child => {\n        child.setAttribute('aria-level', `${+level + 1}`);\n      });\n    }\n  }\n  _handleArrowClick(e) {\n    e.stopPropagation();\n    this.setExpanded(!this.expanded);\n    this.expanded ? this.ruxTreeNodeExpanded.emit(this.componentId) : this.ruxTreeNodeCollapsed.emit(this.componentId);\n  }\n  _handleTreeNodeClick(e) {\n    const target = e.target;\n    if (target.tagName.toLowerCase() === 'rux-tree-node') {\n      e.stopPropagation();\n      this.selected = !this.selected;\n    }\n  }\n  _expandNextNode() {\n    if (!this.expanded && this.hasChildren) {\n      this.setExpanded(true);\n    }\n  }\n  _focusItem(el) {\n    var _a;\n    const parent = (_a = el === null || el === void 0 ? void 0 : el.shadowRoot) === null || _a === void 0 ? void 0 : _a.querySelector('.parent');\n    if (parent) {\n      parent.focus();\n    }\n  }\n  _collapseParent() {\n    if (this.expanded) {\n      this.setExpanded(false);\n    } else if (this.el.parentElement) {\n      const parentTreeItemNode = this.el.parentElement.closest(\"[role='treeitem']\");\n      if (parentTreeItemNode) {\n        this._focusItem(parentTreeItemNode);\n      }\n    }\n  }\n  _focusNext(direction) {\n    const visibleNodes = this._getVisibleNodes();\n    const currentIndex = visibleNodes.indexOf(this.el);\n    if (currentIndex !== -1) {\n      let nextElement = visibleNodes[currentIndex + direction];\n      if (nextElement !== undefined) {\n        // Skips any disabled nodes\n        while (nextElement.hasAttribute('disabled')) {\n          const offset = direction >= 0 ? 1 : -1;\n          nextElement = visibleNodes[currentIndex + direction + offset];\n          if (nextElement) {\n            break;\n          }\n        }\n      }\n      if (nextElement !== null) {\n        this._focusItem(nextElement);\n      }\n    }\n  }\n  _getVisibleNodes() {\n    const rootTree = this.el.closest(\"[role='tree']\");\n    const nodes = Array.from(rootTree.querySelectorAll('rux-tree-node'));\n    return nodes.filter(node => node.offsetParent !== null);\n  }\n  render() {\n    const {\n      _checkForPrefixAndSuffix,\n      _handleArrowClick,\n      _handleSlotChange,\n      _handleTreeNodeClick,\n      componentId,\n      expanded,\n      hasChildren,\n      hasPrefix,\n      hasSuffix,\n      selected\n    } = this;\n    const attrs = hasChildren && {\n      role: 'group'\n    };\n    return h(Host, {\n      role: \"treeitem\",\n      \"aria-expanded\": expanded ? 'true' : 'false',\n      \"aria-selected\": selected ? 'true' : 'false',\n      onClick: _handleTreeNodeClick\n    }, h(\"div\", {\n      id: componentId,\n      class: {\n        'tree-node': true,\n        'tree-node--expanded': expanded,\n        'tree-node--has-children': hasChildren\n      }\n    }, h(\"div\", {\n      class: \"parent\",\n      tabindex: \"0\",\n      part: \"node\"\n    }, hasChildren && h(\"i\", {\n      onClick: _handleArrowClick,\n      part: \"indicator\",\n      class: \"arrow\"\n    }), h(\"span\", {\n      class: {\n        prefix: hasPrefix\n      }\n    }, h(\"slot\", {\n      name: \"prefix\",\n      onSlotchange: _checkForPrefixAndSuffix\n    })), h(\"span\", {\n      part: \"text\"\n    }, h(\"slot\", {\n      onSlotchange: _handleSlotChange\n    })), h(\"span\", {\n      class: {\n        suffix: hasSuffix\n      }\n    }, h(\"slot\", {\n      name: \"suffix\",\n      onSlotchange: _checkForPrefixAndSuffix\n    }))), h(\"div\", Object.assign({}, attrs, {\n      class: \"children\"\n    }), h(\"slot\", {\n      name: \"node\",\n      onSlotchange: _handleSlotChange\n    }))));\n  }\n  get el() {\n    return getElement(this);\n  }\n  static get watchers() {\n    return {\n      \"expanded\": [\"handleExpandedChange\"],\n      \"selected\": [\"handleSelectedChange\"]\n    };\n  }\n};\nRuxTreeNode.style = ruxTreeNodeCss;\nexport { RuxTreeNode as rux_tree_node };"],
  "mappings": "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",
  "names": []
}
