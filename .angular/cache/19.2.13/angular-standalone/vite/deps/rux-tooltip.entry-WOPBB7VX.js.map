{
  "version": 3,
  "sources": ["../../../../../../node_modules/@astrouxds/astro-web-components/dist/esm/rux-tooltip.entry.js"],
  "sourcesContent": ["import { r as registerInstance, c as createEvent, h, H as Host, g as getElement } from './index-416188d1.js';\nimport { c as computePosition, a as autoUpdate, o as offset, b as autoPlacement, f as flip } from './floating-ui.dom.esm-3f85c7b7.js';\nimport { h as hasSlot } from './utils-ef146867.js';\nconst ruxTooltipCss = \":host{--delay:800ms}*{box-sizing:border-box}span{display:contents}.tooltip{display:inline-block;background:var(--tooltip-color-background, #3c3e42);padding:calc(var(--spacing-1, 0.25rem) / 2) var(--spacing-2, 0.5rem);color:var(--tooltip-color-text, #ffffff);width:fit-content;border-radius:var(--tooltip-radius, 1px);z-index:100;width:max-content;position:absolute;top:0;left:0;opacity:1;visibility:visible;transition:opacity 200ms ease-in;font-size:var(--font-body-2-font-size, 0.875rem);line-height:var(--font-body-2-line-height, calc(20 / 14));-webkit-user-select:none;user-select:none}.rux-tooltip__trigger{display:inline;flex-basis:100%}:host([open]) .tooltip{transition-delay:var(--delay);transition-property:opacity}.hidden{opacity:0 !important;visibility:hidden}\";\nconst RuxTooltip = class {\n  constructor(hostRef) {\n    registerInstance(this, hostRef);\n    this.ruxTooltipOpened = createEvent(this, \"ruxtooltipopened\", 7);\n    this.ruxTooltipClosed = createEvent(this, \"ruxtooltipclosed\", 7);\n    this.currentSlotted = undefined;\n    this.hasTriggerSlot = false;\n    this.delegatedFocus = false //Keeps track of whether the element in trigger slot is focusable\n    ;\n    this.message = '';\n    this.open = false;\n    this.delay = 800;\n    this.offset = 8;\n    this.placement = 'auto';\n    this.disableAutoUpdate = false;\n    this.strategy = 'absolute';\n  }\n  handleDelay() {\n    //check to see if the delay prop can be converted to a number. If not, revert to default time.\n    !isNaN(Number(this.delay)) && this.el.style.setProperty('--delay', `${Number(this.delay)}ms`);\n  }\n  handleOpen() {\n    if (this.open) {\n      this.content.style.display = 'block';\n      this._startPositioner();\n      this.ruxTooltipOpened.emit();\n    } else {\n      this.content.style.display = '';\n      this._stopPositioner();\n      this.ruxTooltipClosed.emit();\n    }\n  }\n  handlePlacement() {\n    this._startPositioner();\n  }\n  handleKeypress(e) {\n    if (e.key !== 'Escape') return;\n    const hovered = this.trigger.matches(':hover');\n    const focused = this.triggerSlot.contains(document.activeElement);\n    if (!hovered && !focused) return;\n    if (this.open) {\n      this.hide();\n    }\n  }\n  /**\n   * Opens the tooltip and returns true.\n   */\n  async show() {\n    if (this.open) {\n      return this.open;\n    } else this.open = true;\n    return this.open;\n  }\n  /**\n   * Closes the tooltip and returns false.\n   */\n  async hide() {\n    if (!this.open) {\n      return !this.open;\n    } else this.open = false;\n    return !this.open;\n  }\n  connectedCallback() {\n    this._handleSlotChange = this._handleSlotChange.bind(this);\n    this._handleTooltipShow = this._handleTooltipShow.bind(this);\n    this._handleTooltipHide = this._handleTooltipHide.bind(this);\n  }\n  disconnectedCallback() {\n    this.el.shadowRoot.removeEventListener('slotchange', this._handleSlotChange);\n  }\n  componentWillLoad() {\n    this._handleSlotChange();\n  }\n  componentDidLoad() {\n    this.handleDelay();\n    this.handleOpen();\n  }\n  _position() {\n    if (!this.open || !this.triggerSlot || !this.content) {\n      return;\n    }\n    const placementCheck = () => {\n      if (!this.disableAutoUpdate) {\n        return [offset(this.offset), this.placement === 'auto' ? autoPlacement({\n          alignment: 'start'\n        }) : flip()];\n      } else if (this.placement === 'auto') {\n        return [offset(this.offset), autoPlacement({\n          alignment: 'start'\n        })];\n      } else {\n        return [offset(this.offset)];\n      }\n    };\n    computePosition(this.triggerSlot, this.content, {\n      //@ts-ignore\n      placement: this.placement,\n      strategy: this.strategy,\n      middleware: placementCheck()\n    }).then(({\n      x,\n      y\n    }) => {\n      Object.assign(this.content.style, {\n        left: `${x}px`,\n        top: `${y}px`,\n        position: `${this.strategy}`\n      });\n    });\n  }\n  _startPositioner() {\n    this._stopPositioner();\n    if (this.open) {\n      this._position();\n      if (!this.disableAutoUpdate) {\n        this._positionerCleanup = autoUpdate(this.triggerSlot, this.content, this._position.bind(this));\n      }\n    }\n  }\n  _stopPositioner() {\n    if (this._positionerCleanup) {\n      this._positionerCleanup();\n      this._positionerCleanup = undefined;\n    }\n  }\n  get triggerSlot() {\n    var _a, _b;\n    if (((_a = this.trigger) === null || _a === void 0 ? void 0 : _a.querySelector('slot').assignedElements({\n      flatten: true\n    })[0]) !== undefined) {\n      return (_b = this.trigger) === null || _b === void 0 ? void 0 : _b.querySelector('slot').assignedElements({\n        flatten: true\n      })[0];\n    }\n    return this.trigger;\n  }\n  get hasTrigger() {\n    return this.trigger ? true : this.hasTriggerSlot;\n  }\n  _handleSlotChange() {\n    this.hasTriggerSlot = hasSlot(this.el);\n  }\n  _handleTooltipShow() {\n    if (this.open) return;\n    this.open = true;\n  }\n  _handleTooltipHide() {\n    if (!this.open) return;\n    this.open = false;\n  }\n  render() {\n    const {\n      _handleSlotChange,\n      _handleTooltipShow,\n      _handleTooltipHide\n    } = this;\n    return h(Host, null, h(\"span\", {\n      onMouseEnter: _handleTooltipShow,\n      onMouseLeave: _handleTooltipHide,\n      onFocusin: _handleTooltipShow,\n      onFocusout: _handleTooltipHide\n    }, h(\"span\", {\n      class: \"rux-tooltip__trigger\",\n      part: \"trigger-container\",\n      ref: el => this.trigger = el,\n      \"aria-describedby\": \"tooltip\"\n    }, h(\"slot\", {\n      onSlotchange: _handleSlotChange\n    })), h(\"span\", {\n      \"aria-hidden\": this.open ? 'false' : 'true',\n      class: {\n        tooltip: true,\n        hidden: !this.open\n      },\n      id: \"tooltip\",\n      role: \"tooltip\",\n      part: \"container\",\n      ref: el => this.content = el\n    }, this.message)));\n  }\n  get el() {\n    return getElement(this);\n  }\n  static get watchers() {\n    return {\n      \"delay\": [\"handleDelay\"],\n      \"open\": [\"handleOpen\"],\n      \"placement\": [\"handlePlacement\"]\n    };\n  }\n};\nRuxTooltip.style = ruxTooltipCss;\nexport { RuxTooltip as rux_tooltip };"],
  "mappings": "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",
  "names": []
}
